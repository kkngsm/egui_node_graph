$port-size: 0.7em;
$port-border: 0.2em;
$node-border: 0.2em;
$node-padding-x: 0.6em;
$edge-stroke-width: $port-size * 0.5;

@use "sass:math";
$port-shift: math.div(-$port-size - $node-border, 2);

.node-graph-contextmenu li *{
    cursor:pointer;
    white-space: nowrap;
}

.node{
    white-space: nowrap;
    display: grid;
    border: $node-border solid;
    grid-template:
        "title"
        "input"
        "output"
        "ui";
}

.node-title{
    grid-area: title;
}

.ports{
    &[data-io="input"]{
        grid-area: input;
        .port-wrap{
            justify-content: flex-start;
        }
        .port{
            left: $port-shift;
        }
    }
    &[data-io="output"]{
        grid-area: output;
        .port-wrap{
            justify-content: flex-end;
        }
        .port{
            right: $port-shift;
        }
    }
}
.port-wrap{
    display: flex;
}

.port-widget{
    display: inline-block;
}

.port{
    display: inline-block;
    box-sizing: border-box;
    width: $port-size;
    height: $port-size;
    border-radius: 50%;
    margin: auto 0;
    &[data-is-should-draw="true"]{
        border: $port-border solid;
    }
    position: absolute;
    margin: calc(0.5em - #{$port-size} / 2) 0;
}

.edge{
    stroke-width: $edge-stroke-width;
    stroke-linecap: round;
}

// ------------------------------------------

.node-title{
    padding: 0.25em $node-padding-x;
}

.ports{
    padding: 0.25em $node-padding-x;
}

.node-graph-contextmenu{
    border:1px solid #000;
    background-color:#fff;
}