$port-size: 0.5em;
$port-border: 0.1em;
$node-margin-x: 0.5em;
$node-padding-y: 0.2em;
$node-border: 0.2em;
$edge-stroke-width: $port-size * 0.5;

@use "sass:math";
$ports-shift: math.div(-$port-size - $node-border, 2);

.node-graph-contextmenu{
    border:1px solid #000;
    background-color:#fff;
}
.node-graph-contextmenu li *{
    cursor:pointer;
    white-space: nowrap;
}

.node{
    white-space: nowrap;
    display: grid;
    border: $node-border solid;
    padding: $node-padding-y 0;
    grid-template:
        "title title title"
        "input ui output";
}

.node-title{
    grid-area: title;
    margin: $node-padding-y $node-margin-x;
}

.ports{
    display: flex;
    flex-flow: column;
    &[data-io="input"]{
        margin-left: $ports-shift;
        grid-area: input;
        .port-wrap{
            justify-content: flex-start;
        }
    }
    &[data-io="output"]{
        margin-right: $ports-shift;
        grid-area: output;
        .port-wrap{
            justify-content: flex-end;
        }
    }
}

.port-wrap{
    display: flex;
}

.port-widget{
    display: inline-block;
    margin: $node-margin-x + $ports-shift;
}

.port{
    display: inline-block;
    box-sizing: border-box;
    width: $port-size;
    height: $port-size;
    border-radius: 50%;
    margin: auto;
    &[data-is-should-draw="true"]{
        border: $port-border solid;
    }
}

.edge{
    stroke: #000;
    stroke-width: $edge-stroke-width;
    stroke-linecap: round;
}